{"version":3,"sources":["novicell.debounce.js","novicell.visible.js","novicell.embed.js","novicell.overlay.js","master.js"],"names":["deBouncer","$","cf","of","interval","debounce","func","threshold","execAsap","timeout","delayed","apply","obj","args","this","arguments","clearTimeout","setTimeout","jQuery","fn","bind","trigger","visible","partial","$t","$w","window","viewTop","scrollTop","viewBottom","height","_top","offset","top","_bottom","compareTop","novicell","embed","onLoad","each","data","loadEmbed","onResize","innerWidth","lastRefreshWidth","refreshWidth","onScroll","children","hasClass","$element","callback","$embedItem","length","$image","hide","click","remove","lazyEmbed","isImage","show","addClass","ratio","src","width","$iframe","find","parent","attr","updateQueryStringParameter","backofficeEmbeds","uri","key","value","re","RegExp","separator","indexOf","match","replace","overlay","set","btnClose","append","overlayInner","content","fadeIn","callbackOpen","undefined","css","margin-top","document","documentElement","body","on","e","preventDefault","stop","fadeOut","callbackClose","keyup","keyCode","projectName","svg4everybody","font","webfont","google","families","custom","urls","smartresize","smartscroll"],"mappings":"AAAA,YAqBA,IAAAA,WAAA,SAAAC,EAAAC,EAAAC,EAAAC,GAIA,GAAAC,GAAA,SAAAC,EAAAC,EAAAC,GACA,GAAAC,EACA,OAAA,YAEA,QAAAC,KACAF,GACAF,EAAAK,MAAAC,EAAAC,GAEAJ,EAAA,KALA,GAAAG,GAAAE,KAAAD,EAAAE,SAOAN,GACAO,aAAAP,GAEAD,GACAF,EAAAK,MAAAC,EAAAC,GAEAJ,EAAAQ,WAAAP,EAAAH,GAAAH,IAGAc,QAAAC,GAAAjB,GAAA,SAAAiB,GAAA,MAAAA,GAAAL,KAAAM,KAAAjB,EAAAE,EAAAc,IAAAL,KAAAO,QAAAnB,IAMAF,WAAAkB,OAAA,cAAA,SAAA,KACAlB,UAAAkB,OAAA,cAAA,SAAA,KACAlB,UAAAkB,OAAA,iBAAA,YAAA,KClDA,SAAAjB,GAYAA,EAAAkB,GAAAG,QAAA,SAAAC,GACA,GAAAC,GAAAvB,EAAAa,MACAW,EAAAxB,EAAAyB,QACAC,EAAAF,EAAAG,YACAC,EAAAF,EAAAF,EAAAK,SACAC,EAAAP,EAAAQ,SAAAC,IACAC,EAAAH,EAAAP,EAAAM,SACAK,GAAA,IAAAZ,EAAAW,EAAAH,CAGA,SAFA,IAAAR,EAAAQ,EAAAG,IAEAL,GAAAM,GAAAR,IAGAT,OCXA,IAAAkB,UAAAA,YAEAA,UAAAC,MAAAD,SAAAC,OAAA,SAAApC,GAIA,QAAAqC,KACArC,EAAA,uBAAAsC,KAAA,YACAtC,EAAAa,MAAAQ,SAAA,IAAA,WAAArB,EAAAa,MAAA0B,KAAA,UACAC,EAAAxC,EAAAa,SAMA,QAAA4B,MACAhB,OAAAiB,WAAAC,EAAAC,GAAAnB,OAAAiB,WAAAC,EAAAC,KACA5C,EAAA,uBAAAsC,KAAA,WACAE,EAAAxC,EAAAa,SAEA8B,EAAAlB,OAAAiB,YAIA,QAAAG,KACA7C,EAAA,uBAAAsC,KAAA,WACAtC,EAAAa,MAAAQ,SAAA,KAAArB,EAAAa,MAAAiC,SAAA,qBAAAC,SAAA,WACAP,EAAAxC,EAAAa,SAMA,QAAA2B,GAAAQ,EAAAC,GACA,GAAAC,GAAAF,EAAAF,SAAA,oBACA,IAAAE,EAAAF,SAAA,wBAAAK,OAAA,CACA,GAAAC,GAAAJ,EAAAF,SAAA,wCACAI,GAAAG,OACAD,EAAAE,MAAA,WACAF,EAAAG,SACAC,EAAAN,GAAA,GACA,kBAAAD,IACAA,UAIAO,GAAAN,GAAA,GACA,kBAAAD,IACAA,IAMA,QAAAO,GAAAN,EAAAO,GACAP,EAAAQ,OACAR,EAAAS,SAAA,SACA,IACAC,GAAAC,EAAAC,EADAC,EAAAb,EAAAc,KAAA,SAEAF,GAAA,IAAAZ,EAAAY,QAAAZ,EAAAY,QAAA9D,EAAAkD,GAAAe,SAAAH,QACAF,EAAAG,EAAAxB,KAAA,SACAsB,EAAAE,EAAAxB,KAAA,OACAwB,EAAAG,KAAA,MAAAL,GACAE,EAAAG,KAAA,QAAAJ,GACAC,EAAAG,KAAA,SAAAJ,EAAAF,GACAH,GACAM,EAAAG,KAAA,MAAAC,EAAAJ,EAAAxB,KAAA,OAAA,WAAA,SAIA,QAAA6B,GAAAnB,GACAjD,EAAA,uBAAAsC,KAAA,WACAtC,EAAAa,MAAAmD,KAAA,wBAAAT,SACAC,EAAAxD,EAAAa,MAAAmD,KAAA,sBACAhE,EAAAa,MAAAmD,KAAA,UAAAE,KAAA,MAAAC,EAAAnE,EAAAa,MAAAmD,KAAA,UAAAzB,KAAA,OAAA,WAAA,UACA,kBAAAU,IACAA,MAKA,QAAAkB,GAAAE,EAAAC,EAAAC,GACA,GAAAC,GAAA,GAAAC,QAAA,SAAAH,EAAA,YAAA,KACAI,GAAA,IAAAL,EAAAM,QAAA,KAAA,IAAA,GACA,OAAAN,GAAAO,MAAAJ,GACAH,EAAAQ,QAAAL,EAAA,KAAAF,EAAA,IAAAC,EAAA,MAGAF,EAAAK,EAAAJ,EAAA,IAAAC,EArFA,GAAA5B,GAAA,EACAC,EAAA,EAyFA,QACAP,OAAAA,EACA+B,iBAAAA,EACA3B,SAAAA,EACAI,SAAAA,IAEA5B,OCjHA,IAAAkB,UAAAA,YAmBAA,UAAA2C,QAAA3C,SAAA2C,SAAA,SAAA9E,GACA,QAAA+E,GAAAxC,GAEA,EAAAvC,EAAA,cAAAmD,QACAnD,EAAA,iCAAAuD,QAEA,IAAAyB,GAAAhF,EAAA,OAAAkE,KAAA,OAAA,iBAAAP,SAAA,wDAAAsB,OAAAjF,EAAA,OAAA2D,SAAA,2BACAuB,EAAAlF,EAAA,SAAA2D,SAAA,mBAAAsB,OAAAjF,EAAA,SAAA2D,SAAA,0BAAAsB,OAAA1C,EAAA4C,SAEAnF,GAAA,QAAAiF,OAAAjF,EAAA,SAAAkE,KAAA,KAAA,aAAAkB,OAAA,SAEApF,EAAA,QAAAiF,OAAAjF,EAAA,SAAAkE,KAAA,KAAA,qBAAAe,OAAAD,GAAAC,OAAAC,GAAAE,OAAA,OAAA,WACA,kBAAA7C,GAAA8C,cACA9C,EAAA8C,kBAIArF,EAAA,cAAA6B,OAAA7B,EAAA,QAAA6B,cAEAyD,KAAA/C,EAAA,OACAvC,EAAA,sBAAA2D,SAAApB,EAAA,OAGAvC,EAAA,sBAAAuF,KAAAC,cAAAC,SAAAC,iBAAAD,SAAAC,gBAAA/D,WAAA8D,SAAAE,KAAAhE,WAAA,KAEA3B,EAAA,+BAAA4F,GAAA,QAAA,SAAAC,GACAA,EAAAC,iBACA9F,EAAA,sBAAA+F,OAAAC,QAAA,OAAA,WACAhG,EAAAa,MAAA0C,WAGAvD,EAAA,cAAA+F,OAAAC,QAAA,OAAA,WACAhG,EAAAa,MAAA0C,SACA,kBAAAhB,GAAA0D,eACA1D,EAAA0D,oBAMAjG,EAAAyF,UAAAS,MAAA,SAAAL,GACA,IAAAA,EAAAM,SACAnG,EAAA,oBAAAsD,UAMA,OACAyB,IAAAA,IAEA9D,OC5DA,IAAAkB,UAAAA,aACAiE,YAAAA,iBAGA,SAAApG,GAEAmC,SAAAC,MAAAC,SAIAgE,gBAGAlE,SAAAmE,KAAAC,SACAC,QAAAC,UAAA,qBACAC,QAAAD,UAAA,cAAAE,MAAA,gCAaA3G,EAAAyB,QAAAmF,YAAA,SAAAf,GACA1D,SAAAC,MAAAK,aAIAzC,EAAAyB,QAAAoF,YAAA,SAAAhB,GAEA1D,SAAAC,MAAAS,cAGA5B","file":"master.min.js","sourcesContent":["'use strict';\n/**\n    * @desc Debouncing wrapper script\n    * Credit: http://www.hnldesign.nl/work/code/debouncing-events-with-jquery/\n    * examples:\n    *    $(window).smartresize(function(e){\n    *        // do stuff as soon as the user stops resizing his browser for longer than 100ms\n    *    })\n    *\n    *    $(window).smartscroll(function(e){\n    *        // do stuff as soon as the user stops scrolling for longer than 100ms\n    *    })\n    *\n    *    $(window).smartmousemove(function(e){\n    *        // do stuff as soon as the user stops moving his mouse for longer than 100ms\n    *    })\n    * @author Danni Larsen - DLA\n    * @param e - the event\n    * @requires jquery\n*/\n\nvar deBouncer = function ($, cf, of, interval) {\n    // deBouncer by hnldesign.nl\n    // based on code by Paul Irish and the original debouncing function from John Hann\n    // http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\n    var debounce = function (func, threshold, execAsap) {\n        var timeout;\n        return function debounced() {\n            var obj = this, args = arguments;\n            function delayed() {\n                if (!execAsap){\n                    func.apply(obj, args);\n                }\n                timeout = null;\n            }\n            if (timeout){\n                clearTimeout(timeout);\n            }\n            else if (execAsap){\n                func.apply(obj, args);\n            }\n            timeout = setTimeout(delayed, threshold || interval);\n        };\n    };\n    jQuery.fn[cf] = function (fn) { return fn ? this.bind(of, debounce(fn)) : this.trigger(cf); };\n};\n\n//register debouncing functions\n//deBouncer(jQuery,'new eventname', 'original eventname', timeout);\n//Note: keep the jQuery namespace in mind, don't overwrite existing functions!\ndeBouncer(jQuery, 'smartresize', 'resize', 150);\ndeBouncer(jQuery, 'smartscroll', 'scroll', 250);\ndeBouncer(jQuery,'smartmousemove', 'mousemove', 250);","'use strict';\n\n(function ($) {\n/**\n* Copyright 2012, Digital Fusion\n* Licensed under the MIT license.\n* http://teamdf.com/jquery-plugins/license/\n*\n* @author Sam Sehnert\n* @desc A small plugin that checks whether elements are within\n*     the user visible viewport of a web browser.\n*     only accounts for vertical position, not horizontal.\n*/\n\n$.fn.visible = function (partial) {\n    var $t = $(this),\n    $w = $(window),\n    viewTop = $w.scrollTop(),\n    viewBottom = viewTop + $w.height(),\n    _top = $t.offset().top,\n    _bottom = _top + $t.height(),\n    compareTop = partial === true ? _bottom : _top,\n    compareBottom = partial === true ? _top : _bottom;\n\n    return ((compareBottom <= viewBottom) && (compareTop >= viewTop));\n};\n\n})(jQuery);","\"use strict\";\n\n/**\n* @desc new load embedded media script, it lazyloads embedded media\n* html example\n* js init example: novicell.embed.loadEmbeds();\n* js scroll example:\n* if ($(\".embed-media-item').length > 0) {\n*     novicell.embed.loadEmbeds();\n* }\n* @author Tommy Pedersen - TPE\n* @return generates preplay image\n* @requires jquery@1.11.3\n* @note: Just beautiful!\n*/\n\nvar novicell = novicell || {};\n\nnovicell.embed = novicell.embed || function ($) {\n    var lastRefreshWidth = 0;\n    var refreshWidth = 50;\n\n    function onLoad() {\n        $(\".nc-grid-embedmedia\").each(function () {\n            if ($(this).visible(true) || $(this).data(\"load\") === \"always\") {\n                loadEmbed($(this));\n            }\n        });\n    }\n\n\n    function onResize() {\n        if (window.innerWidth > lastRefreshWidth + refreshWidth || window.innerWidth < lastRefreshWidth - refreshWidth) {\n            $(\".nc-grid-embedmedia\").each(function () {\n                loadEmbed($(this));\n            });\n            lastRefreshWidth = window.innerWidth;\n        }\n    }\n\n    function onScroll() {\n        $(\".nc-grid-embedmedia\").each(function () {\n            if ($(this).visible(true) && !$(this).children(\".embed-media-item\").hasClass(\"loaded\")) {\n                loadEmbed($(this));\n            }\n        });\n    }\n\n    //Check if there's a preview image and loads the embed\n    function loadEmbed($element, callback) {\n        var $embedItem = $element.children(\".embed-media-item\");\n        if ($element.children(\".embed-preview-image\").length) {\n            var $image = $element.children(\".embed-preview-image , .js-embed-play\");\n            $embedItem.hide();\n            $image.click(function () {\n                $image.remove();\n                lazyEmbed($embedItem, true);\n                if (typeof callback == \"function\") {\n                    callback();\n                }\n            });\n        } else {\n            lazyEmbed($embedItem, false);\n            if (typeof callback == \"function\") {\n                callback();\n            }\n        }\n\n    }\n\n    function lazyEmbed($embedItem, isImage) {\n        $embedItem.show();\n        $embedItem.addClass(\"loaded\");\n        var $iframe = $embedItem.find(\".embed\");\n        var ratio, src, width;\n        width = $embedItem.width() !== 0 ? $embedItem.width() : $($embedItem).parent().width();\n        ratio = $iframe.data(\"ratio\");\n        src = $iframe.data(\"src\");\n        $iframe.attr(\"src\", src);\n        $iframe.attr(\"width\", width);\n        $iframe.attr(\"height\", width * ratio);\n        if (isImage) {\n            $iframe.attr(\"src\", updateQueryStringParameter($iframe.data(\"src\"), \"autoplay\", \"true\"));\n        }\n    }\n\n    function backofficeEmbeds(callback) {\n        $(\".nc-grid-embedmedia\").each(function () {\n            $(this).find(\".embed-preview-image\").remove();\n            lazyEmbed($(this).find(\".embed-media-item\"));\n            $(this).find(\".embed\").attr(\"src\", updateQueryStringParameter($(this).find(\".embed\").data(\"src\"), \"autoplay\", \"false\"));\n            if (typeof callback == \"function\") {\n                callback();\n            }\n        });\n    }\n\n    function updateQueryStringParameter(uri, key, value) {\n        var re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\n        var separator = uri.indexOf(\"?\") !== -1 ? \"&\" : \"?\";\n        if (uri.match(re)) {\n            return uri.replace(re, \"$1\" + key + \"=\" + value + \"$2\");\n        }\n        else {\n            return uri + separator + key + \"=\" + value;\n        }\n    }\n\n    // public functions:\n    return {\n        onLoad: onLoad,\n        backofficeEmbeds: backofficeEmbeds,\n        onResize: onResize,\n        onScroll: onScroll\n    };\n}(jQuery);\n","'use strict';\n\nvar novicell = novicell || {};\n\n/* Novicell overlay\n* Original author: Adam Peter Nielsen\n* Load content into an overlay. Style overlay via the optional class\n* ------\n* Dependencies: none\n* Usage: novicell.overlay.set({'content':contents,'class':'foo'});\n* Optional callback functions: novicell.overlay.set({ 'content': html, 'callbackOpen': FUNCTIONNAME, 'callbackClose': FUNCTIONNAME});\n\n* Required LESS:\n* - LESS:\n    #ncOverlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:3300;background:rgba(0,0,0,0.5);display:none;cursor:pointer;}\n    #ncOverlay-content{position:absolute;top:0;right:0;bottom:0;left:0;width:50%;height:50%;margin:auto;z-index:3301;display:none;}\n    .ncOverlay-inner{background:@white;height:100%;overflow:hidden;padding:15px 0;.border-radius(3px);.box-shadow(0 0 8px @grayLighter);}\n    .ncOverlay-inner-scroll{overflow-y:auto;height:100%;padding:0 20px;}\n    .ncOverlay-close{margin:-15px 5px -20px -20px;.box-shadow(0 0 8px @grayLight);cursor:pointer;}\n*/\n\nnovicell.overlay = novicell.overlay || function ($) {\n    function set(data) {\n        // reset overlay the hard way\n        if (0 < $('#ncOverlay').length) {\n            $('#ncOverlay,#ncOverlay-content').remove();\n        }\n        var btnClose = $('<a>').attr('href', '#closeOverlay').addClass('ncOverlay-close btn btn-small btn-inverse pull-right').append($('<i>').addClass('icon-remove icon-white'));\n        var overlayInner = $('<div>').addClass('ncOverlay-inner').append($('<div>').addClass('ncOverlay-inner-scroll').append(data.content));\n\n        $('body').append($('<div>').attr('id', 'ncOverlay').fadeIn(\"fast\"));\n\n        $('body').append($('<div>').attr('id', 'ncOverlay-content').append(btnClose).append(overlayInner).fadeIn(\"fast\", function () {\n            if (typeof data.callbackOpen == 'function') {\n                data.callbackOpen();\n            }\n        }));\n\n        $('#ncOverlay').height($('body').height());\n\n        if (data['class'] !==undefined) {\n            $('#ncOverlay-content').addClass(data['class']);\n        }\n\n        $('#ncOverlay-content').css({ 'margin-top': ((document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop) + 40 });\n\n        $('#ncOverlay,.ncOverlay-close').on(\"click\", function (e) {\n            e.preventDefault();\n            $('#ncOverlay-content').stop().fadeOut(\"fast\", function () {\n                $(this).remove();\n            });\n\n            $('#ncOverlay').stop().fadeOut(\"fast\", function () {\n                $(this).remove();\n                if (typeof data.callbackClose == 'function') {\n                    data.callbackClose();\n                }\n            });\n        });\n\n        // escape click bind on close button\n        $(document).keyup(function (e) {\n            if (e.keyCode == 27) {\n                $('.ncOverlay-close').click();\n            }\n        });\n\n    }\n\n    return {\n        set:set\n    };\n}(jQuery);","'use strict';\n/*\n* Novicell master\n*  Author: APN modified by DLA\n*  Use this file to call functions in other files, on document ready, window.resize etc.\n*  ------\n* Dependencies: jquery, novicell.js, other files with awesome functions.\n*  Usage: $(function () {\n*              projectName.slider.heroSlider($('.owl-carousel'));\n*         }); // Document ready end\n*/\n\nvar novicell = novicell || {};\nvar projectName = projectName || {};\n\n// Document ready\n(function ($) {\n    // Only include Novicell functions that you use!\n    novicell.embed.onLoad(); \n\n    // Call new functions here like this:\n    //projectName.slider.heroSlider($('.owl-carousel'));\n    svg4everybody(); // Fix SVG spritemap in IE/Edge\n\n\n    novicell.font.webfont({\n        google: { families: ['Roboto:300:latin'] },\n        custom: { families: ['SkipLegDay'], urls: ['/dist/css/webfont.min.css'] }\n    });\n\n    /*\n    *  Use the following if needed\n    */\n\n    // Window load\n    // $(window).load(function(e){\n    //     // call functions here\n    // }); // Window load\n\n    // Window resize (debounced)\n    $(window).smartresize(function(e){\n        novicell.embed.onResize();\n    }); // Window resize\n\n    // Window scroll (debounced)\n    $(window).smartscroll(function (e) {\n        // call functions here\n        novicell.embed.onScroll();\n    }); // Window scroll\n\n})(jQuery); // Document ready end\n\n\n"]}